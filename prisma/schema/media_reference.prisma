enum MediaType {
    IMAGE
    VIDEO
}

model ImageRef {
    id Int @id @default(autoincrement())

    etag               String         @unique
    type               MediaType
    general            GeneralSection @relation(fields: [generalSectionSlug], references: [slug])
    cld_url            String         @unique
    filename           String?
    format             String?
    bytes              Int?
    generalSectionSlug String
    Work               Work?          @relation(fields: [workId], references: [id])
    workId             Int?
    Project            Project?       @relation(fields: [projectId], references: [id])
    projectId          Int?
    Preferences        Preferences?   @relation(fields: [preferencesId], references: [id])
    preferencesId      Int?           @unique
}

model VideoRef {
    id Int @id @default(autoincrement())

    etag               String         @unique
    type               MediaType
    general            GeneralSection @relation(fields: [generalSectionSlug], references: [slug])
    yt_url             String         @unique
    generalSectionSlug String
    Work               Work?          @relation(fields: [workId], references: [id])
    workId             Int?
    Project            Project?       @relation(fields: [projectId], references: [id])
    projectId          Int?
    Preferences        Preferences?   @relation(fields: [preferencesId], references: [id])
    preferencesId      Int?           @unique
}
